name: "blockchain-providers-nodejs"
description: "Blockchain Providers NodeJs"
type: "node"
monitor_sets:
  infrastructure:
    ecs:
      enabled: true
      settings:
        services:
          evm-blockchain-arceus:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
          evm-blockchain-gateway:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
          evm-blockchain-signer:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
          solana-provider-arceus:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
          solana-provider-gateway:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
          solana-provider-signer:
            thresholds:
              cpu_percent: 85
              memory_percent: 90
              network_errors: 20
              desired_count: 2
            alert_settings:
              include_tags: true
              priority: "3"
    alb:
      enabled: true
      settings:
        services:
          blockchain-providers:
            alb_name: "blockchain-providers"
            thresholds:
              request_count: 20000000
              latency: 200
              error_rate: 20
            alert_settings:
              include_tags: true
              priority: "3"
    db:
      enabled: false
  messaging:
    sqs:
      enabled: false
    sns:
      enabled: false
  application:
    apm:
      enabled: false
      services:
        evm-blockchain-arceus:
          thresholds:
            latency: 200 # in ms
            error_rate: 0.05 # 5% error rate
            throughput: 100 # requests per minute
          alert_settings:
            priority: "3"
            include_tags: true
        evm-blockchain-gateway:
          thresholds:
            latency: 250
            error_rate: 0.07
            throughput: 120
          alert_settings:
            priority: "3"
            include_tags: true
        evm-blockchain-signer:
          thresholds:
            latency: 300
            error_rate: 0.10
            throughput: 80
          alert_settings:
            priority: "3"
            include_tags: true
    node:
      enabled: true
      services:
        evm-blockchain-arceus:
          thresholds:
            cpu_total_usage: 85 # CPU usage threshold (in percent)
            heap_memory_usage: 800 # Heap memory usage threshold (in MB)
            event_loop_delay: 20000000 # Event loop delay threshold (in ms)
          alert_settings:
            priority: "3"
            include_tags: true
        evm-blockchain-gateway:
          thresholds:
            cpu_total_usage: 85
            heap_memory_usage: 800
            event_loop_delay: 20000000
          alert_settings:
            priority: "3"
            include_tags: true
        evm-blockchain-signer:
          thresholds:
            cpu_total_usage: 85
            heap_memory_usage: 800
            event_loop_delay: 20000000
          alert_settings:
            priority: "3"
            include_tags: true
        solana-provider-arceus:
          thresholds:
            cpu_total_usage: 85
            heap_memory_usage: 800
            event_loop_delay: 20000000
          alert_settings:
            priority: "3"
            include_tags: true
        solana-provider-gateway:
          thresholds:
            cpu_total_usage: 85
            heap_memory_usage: 800
            event_loop_delay: 20000000
          alert_settings:
            priority: "3"
            include_tags: true
        solana-provider-signer:
          thresholds:
            cpu_total_usage: 85
            heap_memory_usage: 800
            event_loop_delay: 20000000
          alert_settings:
            priority: "3"
            include_tags: true
  logs:
    enabled: true
    services:
      evm-blockchain-arceus:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
      evm-blockchain-gateway:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
      evm-blockchain-signer:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
      solana-provider-arceus:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
      solana-provider-gateway:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
      solana-provider-signer:
        custom_log_lines:
          - "ViemException: transaction.insufficient-funds"
        thresholds:
          critical: 30
          critical_recovery: 20
          warning: 15
          warning_recovery: 10
        alert_settings:
          priority: "3"
          include_tags: true
